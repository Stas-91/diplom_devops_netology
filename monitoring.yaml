prometheus:
  enabled: true
  prometheusSpec:
    scrapeInterval: 30s
    retention: 10d
    serviceMonitorSelectorNilUsesHelmValues: false
    resources:
      requests:
        memory: 1Gi
        cpu: 500m
      limits:
        memory: 1Gi
        cpu: 1

alertmanager:
  enabled: true
  alertmanagerSpec:
    retention: "120h"
    resources:
      requests:
        memory: 1Gi
        cpu: 200m
      limits:
        memory: 1Gi
        cpu: 500m
  config:
    global:
      resolve_timeout: 5m
    route:
      group_by: ['alertname']
      group_wait: 30s
      group_interval: 5m
      repeat_interval: 12h
      receiver: 'null'
    receivers:
    - name: 'null'

grafana:
  enabled: true
  grafana.ini:
    server:
      root_url: "%(protocol)s://%(domain)s:%(http_port)s/"
      serve_from_sub_path: false
  adminPassword: "MySecurePassword123"
  service:
    type: NodePort
    port: 3000
    nodePort: 30080
  additionalDataSources:
    - name: Prometheus
      type: prometheus
      url: http://kube-prometheus-stack-prometheus.monitoring.svc.cluster.local:9090
      access: proxy
  dashboards:
    default:
      k8s-cluster:
        gnetId: 315
        revision: 1
        datasource: Prometheus
      node-exporter:
        gnetId: 3119
        revision: 1
        datasource: Prometheus

kube-state-metrics:
  enabled: true

prometheus-node-exporter:
  enabled: true
